<!DOCTYPE html>
<html>
<!---------------------------------------------------------------------------------->
<!--                                      HEAD                                    -->
<!---------------------------------------------------------------------------------->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Temperion</title>
	<link rel="icon" href="MEDIA/cursed-emoji.png">
	<!--Embed bootstrap CSS-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" >
	<!--Link css-->
	<link rel="stylesheet" href="STYLES/style.css" type="text/css">

	<!--Embed jQuery to the html page-->
	<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
</head>

<!---------------------------------------------------------------------------------->
<!--                                      BODY                                    -->
<!---------------------------------------------------------------------------------->
<body>

	<!--Header-->
	<header class="row" style="min-height: 15vh; background-color: var(--header-color);"><!--CSS defined variable-->
		<!--Title-->
		<div class="col-12 col-md-12 col-lg-8 m-0 p-0 d-flex align-items-center justify-content-center" style="min-height: 17vh;">
			<h1 class="text-center" style="color: var(--font-color)">TEMPERION BOOKING SYSTEM</h1><!--Name is from an old game I played-->
		</div>
		<!--Navbar-->
		<div class="text-white col-12 col-md-12 col-lg-4 row h-25 m-0 p-0" style="background-color: var(--nav-color)">
			<div class="col-12 col-md-6 col-lg-6 border border-primary text-center"><a href="#">HOME</a></div>
			<div class="col-12 col-md-6 col-lg-6 border border-primary text-center"><a href="extension.html">EXTENSION</a></div>
		</div>	
	</header>
	
<!---------------------------------------------------------------------------------->
<!--                                      MAIN                                    -->
<!---------------------------------------------------------------------------------->
	<!--This form contains all the inputs the user will use, this is then validated and parsed with javascript-->
	<form class="container-fluid" id="bookingForm">
		<main class="row">
			<!--This first detail column displays, title, name, address, postcode, email, and phone number-->
			<div class="col-12 col-md-12 col-lg-4 container" style="background-color: var(--main-color); min-height: 20vh">	 
				<h4>CUSTOMER DETAILS</h4>
				<!--Customer type-->
				<div class="row">

					<!--This field set creates a box with a legend associated, this is used to contain the customer type radio-->
					<fieldset class="border border-primary col-12 col-lg-11 ms-2 me-4">
						<legend class="col-11 float-none w-auto">Customer type *</legend>									
						<div>
							<label class="col-12 col-md-12 col-lg-4">Customer</label>
							<input type="radio" id="customerType" name="customer-type" value="customer" checked>						
							<!--If this is true, the businessType is false, vice versa-->
						</div>
						<div>
							<label class="col-12 col-md-12 col-lg-4">Business</label>
							<input type="radio" id="businessType" name="customer-type" value="business">					
						</div>
					</fieldset>				
				</div>
				
				<!--The user can user this select to select their own title-->
				<div class="row mt-2">
					<label class="col-12 col-md-12 col-lg-4">Title *</label>				
					<select class="col-12 col-md-12 col-lg-7" id="titleInput">
					  <option value="Mr" selected>Mr</option>
					  <option value="Mrs">Mrs</option>
					  <option value="Ms">Ms</option>
					  <option value="Miss">Miss</option>
					  <option value="Dr">Dr</option>
					</select>	
				</div>							
				
				<!--The first name, last name and title are all concatonted as one in the final stages-->
				<div class="row mt-1">
					<label class="col-12 col-md-12 col-lg-4">First Name *</label>
					<input class="col-12 col-md-12 col-lg-7" type="text" id="fnameInput">
				</div>

				<div class="row mt-1">
					<label class="col-12 col-md-12 col-lg-4">Last Name *</label>
					<input class="col-12 col-md-12 col-lg-7" type="text" id="lnameInput">
				</div>
				<!--This appears if an error has occured in input-->
				<p id="usercheck">name is missing</p>

				<div class="row mt-1">
					<label class="col-12 col-md-12 col-lg-4">Street *</label>
					<input class="col-12 col-md-12 col-lg-7" type="text" id="streetInput">
				</div>
				<!--This appears if an error has occured in input-->
				<p id="streetcheck">street missing</p>

				<div class="row mt-1">
					<label class="col-12 col-md-12 col-lg-4">Suburb</label>
					<input class="col-12 col-md-12 col-lg-7" type="text" id="suburbInput">
				</div>

				<div class="row mt-2">
					<label class="col-12 col-md-12 col-lg-4">City *</label>
					<input class="col-12 col-md-12 col-lg-7" type="text" id="cityInput">
				</div>
				<!--This appears if an error has occured in input-->
				<p id="citycheck">city missing</p>

				<!--The postcode msut be only, numbers, no more or less than 4 characters-->
				<div class="row mt-2">
					<label class="col-12 col-md-12 col-lg-4">Post Code</label>
					<input class="col-12 col-md-12 col-lg-7" type="text" id="postcodeInput">
				</div>
				<!--This appears if an error has occured in input-->
				<p id="postcheck">Must be 4 character<p>

				<!--Phone number must be only numbers-->
				<div class="row mt-2">
					<label class="col-12 col-md-12 col-lg-4">Phone Number *</label>
					<input class="col-12 col-md-12 col-lg-7" type="text" id="pnumberInput">
				</div>
				<!--This appears if an error has occured in input-->
				<p id="pncheck">Phone number too short</p>

				<div class="row mt-2">
					<label class="col-12 col-md-12 col-lg-4">Email *</label>
					<input class="col-12 col-md-12 col-lg-7" type="text" id="emailInput">
				</div>
				<!--This appears if an error has occured in input-->
				<p id="emailcheck">Invalid email</p>
			</div>
			
			
			<!--This second column contains the purchase date, repair date, warranty status, imei, make, model number, and damage description-->
			<div class="col-12 col-md-12 col-lg-4 m-0 pl-3 container" style="background-color: var(--main-color); min-height: 20vh">
				<h4>REPAIR DETAILS</h4>
				<!--The purchase date must not be set in the future-->
				<div class="row mt-1">
					<label class="col-12 col-md-12 col-lg-4">Purchase Date *</label>
					<input class="col-12 col-md-12 col-lg-7" type="date" id="purchaseDate">
				</div>		
				<div class="row mt-1">
					<label class="col-12 col-md-12 col-lg-4">Repair Date *</label>
					<input class="col-12 col-md-12 col-lg-7" type="date" id="repairDate">
				</div>	
				<!--This appears if an error has occured in input-->
				<p id="datescheck">Date must not be set in the future</p>
				<!--If the warranty is selected then the service fee is removed-->
				<div class="row">
					<fieldset class="border border-primary col-12 col-lg-11 ms-1 me-4 mb-3">
						<legend class="col-11 float-none w-auto">Under Warranty</legend>									
						<div>
							<label class="col-12 col-md-12 col-lg-4">Warranty</label>
							<input type="checkbox" id="warranty">						
						</div>
					</fieldset>				
				</div>			
				
				<!--Other details-->				
				<!--Must only be numbers-->
				<div class="row mt-1">
					<label class="col-12 col-md-12 col-lg-4">IMEI *</label>
					<input class="col-12 col-md-12 col-lg-7" type="number" id="imeiInput">
				</div>	
				<!--This appears if an error has occured in input-->
				<p id="imeicheck">Must be numbers</p>

				<!--A number of phone brands-->
				<div class="row mt-2">
					<label class="col-12 col-md-12 col-lg-4">Make *</label>				
					<select class="col-12 col-md-12 col-lg-7" id="makeInput">
					  <option value="Apple" selected>Apple</option>
					  <option value="OPPO">OPPO</option>
					  <option value="Nokia">Nokia</option>
					  <option value="Samsung">Samsung</option>
						<option value="Microsoft">Microsoft</option>
						<option value="Other">Other</option>
					</select>	
				</div>	

				<!--Must only be numbers-->
				<div class="row mt-2">
					<label class="col-12 col-md-12 col-lg-4">Model Number</label>
					<input class="col-12 col-md-12 col-lg-7" type="number" id="modelnumInput">
				</div>	
				<!--This appears if an error has occured in input-->
				<p id="modelnumcheck">Model number must only be numbers</p>

				<!--General fault category-->
				<div class="row mt-2">
					<label class="col-12 col-md-12 col-lg-4">Fault Category *</label>				
					<select class="col-12 col-md-12 col-lg-7">
					  <option value="Battery" selected>Battery</option>
					  <option value="Charging">Charging</option>
					  <option value="Screen">Screen</option>
					  <option value="SD-Storage">SD-Storage</option>
					  <option value="Software">Software</option>						
						<option value="Other">Other</option>
					</select>	
				</div>	

				<!--More in depth customer description of the fault-->
				<div class="row mt-2">
					<label class="col-12 col-md-12 col-lg-4">Description</label>
					<textarea class="col-12 col-md-12 col-lg-7" type="" id="descInput" rows="3"></textarea>
				</div>	

				<!--This allows the user to upload an image of the faulty device and the damaged area, this is showen on the final receipt(not the modal)-->
				<div>
					<p>Upload image of your device</p>
					<input type="file" id="customerPhone" accept="image/jpeg, image/jpg, image/png"><!--Types of image files accepted-->
				</div>
				
			</div>
			
			<!------------------------------------------------------------------------------>
			<div class="col-12 col-md-12 col-lg-4 m-0 p-0 h-100">
				<!--Courtesy Phone Detail-->
				<div style="background-color: var(--main-color); min-height: 30vh">
					<h4>COURTERSY PHONE</h4>
					<!--Item types-->
					<div class="row mt-2 ms-3">
						<label class="col-12 col-md-12 col-lg-4">Item Type </label>				
						<select class="col-12 col-md-12 col-lg-7" id="itemList">
						  <option value="iPhone" selected>iPhone</option>
						  <option value="AndroidPhone">AndroidPhone</option>
						  <option value="Charger">Charger</option>
						</select>	
					</div>	


					<div class="row mt-2">
						<div class="col-6 text-center">
							<!--This button adds item added to the table underneath in HTML, this can only be done in certain conditions-->
							<button class="btn-border btn-warning p-1 w-50" id="addBtn">ADD</button>
						</div>
						<div class="col-6 text-center">
							<!--Removes items added-->
							<button class="btn-border btn-danger p-1 w-50" id="removeBtn">REMOVE</button>
						</div>					
					</div>	

					<!--Table of added Courtesy items-->
					<div class="row mt-2 ms-3 me-3 bg-white">
						<table class="table table-bordered" id="borrowItems">
							<tr>
								<!--Added items show up here-->
								<td>Item</td>
								<td>Cost</td>
							</tr>																			  
						</table>						
					</div>					
				</div>
				
								
				<!--Cost Section-->
				<div style="background-color: var(--main-color);">
					<h4>COST</h4>
					<div class="row mt-2  ms-3">
						<!--Changes based on the items which have been added or removed-->
						<label class="col-12 col-md-12 col-lg-4">Bond ($)</label>
						<input class="col-12 col-md-12 col-lg-7" type="number" id="bond" value="0" readonly>
					</div>	
					<div class="row mt-1  ms-3">
						<!--Is set to 85 but will be removed if the customer is a business customer-->
						<label class="col-12 col-md-12 col-lg-4">Service Fee ($)</label>
						<input class="col-12 col-md-12 col-lg-7" type="number" id="serviceFee" value="85" readonly>
					</div>	
					<div class="row mt-1  ms-3">
						<!--Addeds the bond and service fee together-->
						<label class="col-12 col-md-12 col-lg-4">Total ($)</label>
						<input class="col-12 col-md-12 col-lg-7" type="number" id="totalFee" value="0" readonly>
					</div>	
					<div class="row mt-1 ms-3">
						<!--Is the previous total plus 15% (general tax)-->
						<label class="col-12 col-md-12 col-lg-4">Total +GST(15%) ($)</label>
						<input class="col-12 col-md-12 col-lg-7" type="number" id="totalFeeGST" value="0" readonly>
					</div> 
				</div>			
			</div>

			<!--Button section-->			
			<div class="col-12 text-center pt-3" style="background-color: var(--main-color); min-height: 10vh">
				<!--Show the modal displaying all informatoin the user has entered in so far, also loads the data to localstorage or overwrites it-->
				<button type="button" class="btn me-3 text-dark bg-white" style="width: 5em;" value="SUBMIT" data-bs-toggle="modal" data-bs-target="#receiptModal" onclick="loadValues();">SUBMIT</button>
				<!--Resets the page therefore resetting the data inputted-->
				<input type="reset" class="btn me-3 text-dark bg-white" style="width: 5em;" value="RESET" onclick="document.location.reload(true)" id="resetBtn">
				<!--Changes url to the faqs page-->
				<a href="faqs.html" class="btn me-3 text-dark bg-white" style="width: 5em;" role="button" aria-pressed="true" id="faqsBtn">FAQS</a>
			</div>
		</main>	
	</form>

	<!---------------------------------------------------------------------------------->
	<!--                                     MODAL                                    -->
	<!---------------------------------------------------------------------------------->
	<!--This modal is used to display information the user has entered in an overview style without restriction-->
	<!--This modal template is taken from bootstrap-->
	<div class="modal fade" id="receiptModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Confirmation</h5>
				</div>
				<div class="modal-body">
					<div>
						<div>
							<p>Full Name: <span id="receiptUsername"></span></p>
							<p>Address: <span id="receiptAddress"></span></p>
							<p>Postcode: <span id="receiptPostcode"></span></p>
							<p>Phone Number: <span id="receiptPhoneNum"></span></p>
							<p>Email Address: <span id="receiptEmail"></span></p>
						</div>

						<!--Purchase information 1 content-->
						<div>
							<p>Customer Type: <span id="receiptCustType"></span></p>
							<p>Warrenty Status: <span id="receiptWarranty"></span></p>
							<p>Purchase Date: <span id="receiptPurchaseDate"></span></p>
							<p>Repair Date: <span id="receiptRepairDate"></span></p>
						</div>

						<div class="col-12 col-md-6">
							<p>IMEI: <span id="receiptImei"></span></p>
							<p>Phone Manufacturer: <span id="receiptMake"></span></p>
							<p>Model Number: <span id="receiptModelnum"></span></p>
							<p>Fault Description: <span id="receiptDescription"></span></p>
						</div>
					
						<!--Purchase Information 2 content-->
						<div class="col-12 col-md-6">
							<table id="rtable">
								<tr id="rtr">
									<th id="rth">Item</th>
									<th id="rth">Bond</th>
								</tr>
								<tr id="rtr">
									<td id="rtd"><span id="receiptPhoneType"></span></td>
									<td id="rtd"><span id="receiptPhoneBond"></span></td>
								</tr>
								<tr id="rtr">
									<td id="rtd"><span id="receiptCharger"></span></td>
									<td id="rtd"><span id="receiptChargerBond"></span></td>
								</tr>
							</table>
							<p>Bond Price: <span id="receiptBond"></span></p>
							<p>Service Fee: <span id="receiptServiceFee"></span></p>
							<p>Total Fee: <span id="receiptTotalFee"></span></p>
							<p>Total Fee +GST(15%): <span id="receiptTotalGST"></span></p>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<!--Closes the modal without submitting to the receipt-->
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Decline</button>
					<!--Closes the modal, performs entire form validation through JS, then if this test comes back true, redirects to the receipt page-->
					<button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="testValidity()">Confirm</button>
				</div>
			</div>
		</div>
	</div>

	<!---------------------------------------------------------------------------------->
	<!--                                      FOOTER                                   ->
	<!---------------------------------------------------------------------------------->
	<footer class="text-white d-flex align-items-center justify-content-center" style="background-color: var(--footer-color); min-height: 10vh;">
		<h5 style="color: var(--font-color)"">ADVANCED WEB DEVELOPMENT @2022</h5>
	</footer>
 
	<!--insert Bootstrap JS-->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
	<script src="JS/checkTheme.js"></script>
	<script src="JS/booking.js"></script>
	<script src="JS/validation.js"></script>
</body>
</html>